# Виртуальный Тьютор - Полная документация

## О проекте
Интеллектуальная система виртуального тьютора с функциями:

- Обучение написанию эссе
- Анализ эмоционального состояния студента
- Адаптивные ответы на основе моральных схем
- 4-этапный процесс обучения
- Детальное логирование сессий

## Структура проекта

### 1. Клиентская часть

#### Базовый интерфейс (`/ui_dummy/`)
- **Назначение**: Упрощенная версия для тестирования
- **Особенности**:
  - Чат с базовыми ответами
  - Редактор эссе
  - WebSocket подключение к `/test_1/ws/`

#### Полнофункциональный интерфейс (`/ui_moral/`)
- **Назначение**: Основной рабочий интерфейс
- **Особенности**:
  - Поддержка моральных схем
  - Анализ эмоций
  - WebSocket подключение к `/test_2/ws/`

### 2. Серверная часть

#### Основные модули:

1. **WebSocket сервер** (`test_server.py`)
   - Обработка соединений
   - Маршрутизация сообщений
   - Раздача интерфейсов

2. **Ядро системы** (`virtual_tutor.py`)
   - Управление диалогом
   - Контроль этапов обучения
   - Работа с моральными схемами

3. **Эмоциональный анализ** (`base_moral_scheme.py`)
   - Векторы оценок и чувств
   - Расчет эмоциональной дистанции
   - Анализ интенций

4. **ИИ-интеграция** (`oai_interface.py`)
   - Работа с Deepseek API
   - Генерация ответов
   - Анализ текста

### 3. Вспомогательные компоненты

- **Конфигурация** (`helper.py`):
  - Пространства интенций
  - Системные промпты
  - Сообщения переходов

- **Модели данных** (`request_contracts.py`):
  - Структуры запросов
  - Валидация данных

## Рабочий процесс

1. **Этап 1**: Знакомство
   - Установление контакта
   - Согласие на урок

2. **Этап 2**: Создание плана
   - Написание outline
   - Проверка критериев

3. **Этап 3**: Написание эссе
   - Постепенная разработка
   - Обратная связь

4. **Этап 4**: Оценка
   - Анализ работы
   - Рекомендации

## Запуск системы

1. Установить зависимости:
```bash
pip install -r requirements.txt
```

2. Запустить сервер:
```bash
python test_server.py
```
3. Открыть в браузере:
    http://localhost:8000/test_1 - упрощенная версия
    http://localhost:8000/test_2 - полная версия


## Логирование

Система создает логи в формате:

```
/logs_dummy/
  /[session_id]/
    dialog.log
    essay.log

/logs_moral/
  /[session_id]/
    dialog.log
    essay.log
```

## Зависимости

1. FastAPI

2. Uvicorn

3. NumPy

4. PyYAML

5. Requests

6. Pydantic